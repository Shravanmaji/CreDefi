{
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_transactionsContractAddress",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "docId",
          "type": "uint256"
        }
      ],
      "name": "AccessGranted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "from",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "ipfsHASH",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "des",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "docType",
          "type": "string"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "header",
          "type": "string"
        }
      ],
      "name": "Upload",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "accessGranted",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "ipfsHASH",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "des",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "docType",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "header",
          "type": "string"
        }
      ],
      "name": "addToBlockchain",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "docCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "documents",
      "outputs": [
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "string",
          "name": "ipfsHASH",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "des",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "docType",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "header",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getAllDocuments",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "user",
              "type": "address"
            },
            {
              "internalType": "string",
              "name": "ipfsHASH",
              "type": "string"
            },
            {
              "internalType": "uint256",
              "name": "amount",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "timestamp",
              "type": "uint256"
            },
            {
              "internalType": "string",
              "name": "des",
              "type": "string"
            },
            {
              "internalType": "string",
              "name": "docType",
              "type": "string"
            },
            {
              "internalType": "string",
              "name": "header",
              "type": "string"
            }
          ],
          "internalType": "struct doc.docStruct[]",
          "name": "",
          "type": "tuple[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "docId",
          "type": "uint256"
        }
      ],
      "name": "getDocument",
      "outputs": [
        {
          "internalType": "string",
          "name": "ipfsHASH",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "des",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "docType",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "header",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getDocumentCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "docId",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "message",
          "type": "string"
        },
        {
          "internalType": "string",
          "name": "keyword",
          "type": "string"
        }
      ],
      "name": "payForAccess",
      "outputs": [],
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "transactionsContract",
      "outputs": [
        {
          "internalType": "contract Transactions",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "608060405234801561000f575f80fd5b50604051611eaf380380611eaf833981810160405281019061003191906100d5565b8060015f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050610100565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100a48261007b565b9050919050565b6100b48161009a565b81146100be575f80fd5b50565b5f815190506100cf816100ab565b92915050565b5f602082840312156100ea576100e9610077565b5b5f6100f7848285016100c1565b91505092915050565b611da28061010d5f395ff3fe608060405260043610610085575f3560e01c80639fa5f50b116100585780639fa5f50b1461013a578063c2ed2b0514610164578063e17f94c0146101a6578063e1906778146101d0578063f973d4981461020c57610085565b80633d1c2273146100895780633f9b250a146100b35780634c4dc6e0146100f45780639dc43d601461011e575b5f80fd5b348015610094575f80fd5b5061009d610248565b6040516100aa9190611010565b60405180910390f35b3480156100be575f80fd5b506100d960048036038101906100d49190611064565b610250565b6040516100eb969594939291906110ff565b60405180910390f35b3480156100ff575f80fd5b506101086105af565b6040516101159190611010565b60405180910390f35b610138600480360381019061013391906112a6565b6105b4565b005b348015610145575f80fd5b5061014e610870565b60405161015b919061152d565b60405180910390f35b34801561016f575f80fd5b5061018a60048036038101906101859190611064565b610b74565b60405161019d979695949392919061155c565b60405180910390f35b3480156101b1575f80fd5b506101ba610df8565b6040516101c79190611640565b60405180910390f35b3480156101db575f80fd5b506101f660048036038101906101f19190611683565b610e1d565b60405161020391906116db565b60405180910390f35b348015610217575f80fd5b50610232600480360381019061022d91906116f4565b610e47565b60405161023f9190611010565b60405180910390f35b5f8054905090565b60605f8060608060605f54871061029c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161029390611825565b60405180910390fd5b60035f8881526020019081526020015f205f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f9054906101000a900460ff16610334576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161032b9061188d565b60405180910390fd5b5f60028881548110610349576103486118ab565b5b905f5260205f2090600702019050806001018160020154826003015483600401846005018560060185805461037d90611905565b80601f01602080910402602001604051908101604052809291908181526020018280546103a990611905565b80156103f45780601f106103cb576101008083540402835291602001916103f4565b820191905f5260205f20905b8154815290600101906020018083116103d757829003601f168201915b5050505050955082805461040790611905565b80601f016020809104026020016040519081016040528092919081815260200182805461043390611905565b801561047e5780601f106104555761010080835404028352916020019161047e565b820191905f5260205f20905b81548152906001019060200180831161046157829003601f168201915b5050505050925081805461049190611905565b80601f01602080910402602001604051908101604052809291908181526020018280546104bd90611905565b80156105085780601f106104df57610100808354040283529160200191610508565b820191905f5260205f20905b8154815290600101906020018083116104eb57829003601f168201915b5050505050915080805461051b90611905565b80601f016020809104026020016040519081016040528092919081815260200182805461054790611905565b80156105925780601f1061056957610100808354040283529160200191610592565b820191905f5260205f20905b81548152906001019060200180831161057557829003601f168201915b505050505090509650965096509650965096505091939550919395565b5f5481565b5f5483106105f7576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105ee90611825565b60405180910390fd5b6002838154811061060b5761060a6118ab565b5b905f5260205f20906007020160020154341461065c576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016106539061197f565b60405180910390fd5b60035f8481526020019081526020015f205f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f9054906101000a900460ff16156106f5576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016106ec906119e7565b60405180910390fd5b60015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1663cc2d7ead60028581548110610746576107456118ab565b5b905f5260205f2090600702015f015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff163485856040518563ffffffff1660e01b81526004016107969493929190611a25565b5f604051808303815f87803b1580156107ad575f80fd5b505af11580156107bf573d5f803e3d5ffd5b50505050600160035f8581526020019081526020015f205f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f6101000a81548160ff021916908315150217905550823373ffffffffffffffffffffffffffffffffffffffff167fb4c6779ceb4a20f448e76a0e11f39bd183cff9c9dbac53df6bfcc202e2eb32f160405160405180910390a3505050565b60606002805480602002602001604051908101604052809291908181526020015f905b82821015610b6b578382905f5260205f2090600702016040518060e00160405290815f82015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200160018201805461091890611905565b80601f016020809104026020016040519081016040528092919081815260200182805461094490611905565b801561098f5780601f106109665761010080835404028352916020019161098f565b820191905f5260205f20905b81548152906001019060200180831161097257829003601f168201915b5050505050815260200160028201548152602001600382015481526020016004820180546109bc90611905565b80601f01602080910402602001604051908101604052809291908181526020018280546109e890611905565b8015610a335780601f10610a0a57610100808354040283529160200191610a33565b820191905f5260205f20905b815481529060010190602001808311610a1657829003601f168201915b50505050508152602001600582018054610a4c90611905565b80601f0160208091040260200160405190810160405280929190818152602001828054610a7890611905565b8015610ac35780601f10610a9a57610100808354040283529160200191610ac3565b820191905f5260205f20905b815481529060010190602001808311610aa657829003601f168201915b50505050508152602001600682018054610adc90611905565b80601f0160208091040260200160405190810160405280929190818152602001828054610b0890611905565b8015610b535780601f10610b2a57610100808354040283529160200191610b53565b820191905f5260205f20905b815481529060010190602001808311610b3657829003601f168201915b50505050508152505081526020019060010190610893565b50505050905090565b60028181548110610b83575f80fd5b905f5260205f2090600702015f91509050805f015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690806001018054610bc790611905565b80601f0160208091040260200160405190810160405280929190818152602001828054610bf390611905565b8015610c3e5780601f10610c1557610100808354040283529160200191610c3e565b820191905f5260205f20905b815481529060010190602001808311610c2157829003601f168201915b505050505090806002015490806003015490806004018054610c5f90611905565b80601f0160208091040260200160405190810160405280929190818152602001828054610c8b90611905565b8015610cd65780601f10610cad57610100808354040283529160200191610cd6565b820191905f5260205f20905b815481529060010190602001808311610cb957829003601f168201915b505050505090806005018054610ceb90611905565b80601f0160208091040260200160405190810160405280929190818152602001828054610d1790611905565b8015610d625780601f10610d3957610100808354040283529160200191610d62565b820191905f5260205f20905b815481529060010190602001808311610d4557829003601f168201915b505050505090806006018054610d7790611905565b80601f0160208091040260200160405190810160405280929190818152602001828054610da390611905565b8015610dee5780601f10610dc557610100808354040283529160200191610dee565b820191905f5260205f20905b815481529060010190602001808311610dd157829003601f168201915b5050505050905087565b60015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6003602052815f5260405f20602052805f5260405f205f915091509054906101000a900460ff1681565b5f60015f80828254610e599190611aa3565b9250508190555060026040518060e001604052803373ffffffffffffffffffffffffffffffffffffffff16815260200188815260200187815260200142815260200186815260200185815260200184815250908060018154018082558091505060019003905f5260205f2090600702015f909190919091505f820151815f015f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506020820151816001019081610f2a9190611c6a565b5060408201518160020155606082015181600301556080820151816004019081610f549190611c6a565b5060a0820151816005019081610f6a9190611c6a565b5060c0820151816006019081610f809190611c6a565b5050503373ffffffffffffffffffffffffffffffffffffffff167fa34829d8823c61a4a8d080f1c7ecd9be01dbc07b5f982d061d849413fb29bb7c878742888888604051610fd3969594939291906110ff565b60405180910390a26001600280549050610fed9190611d39565b905095945050505050565b5f819050919050565b61100a81610ff8565b82525050565b5f6020820190506110235f830184611001565b92915050565b5f604051905090565b5f80fd5b5f80fd5b61104381610ff8565b811461104d575f80fd5b50565b5f8135905061105e8161103a565b92915050565b5f6020828403121561107957611078611032565b5b5f61108684828501611050565b91505092915050565b5f81519050919050565b5f82825260208201905092915050565b8281835e5f83830152505050565b5f601f19601f8301169050919050565b5f6110d18261108f565b6110db8185611099565b93506110eb8185602086016110a9565b6110f4816110b7565b840191505092915050565b5f60c0820190508181035f83015261111781896110c7565b90506111266020830188611001565b6111336040830187611001565b818103606083015261114581866110c7565b9050818103608083015261115981856110c7565b905081810360a083015261116d81846110c7565b9050979650505050505050565b5f80fd5b5f80fd5b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b6111b8826110b7565b810181811067ffffffffffffffff821117156111d7576111d6611182565b5b80604052505050565b5f6111e9611029565b90506111f582826111af565b919050565b5f67ffffffffffffffff82111561121457611213611182565b5b61121d826110b7565b9050602081019050919050565b828183375f83830152505050565b5f61124a611245846111fa565b6111e0565b9050828152602081018484840111156112665761126561117e565b5b61127184828561122a565b509392505050565b5f82601f83011261128d5761128c61117a565b5b813561129d848260208601611238565b91505092915050565b5f805f606084860312156112bd576112bc611032565b5b5f6112ca86828701611050565b935050602084013567ffffffffffffffff8111156112eb576112ea611036565b5b6112f786828701611279565b925050604084013567ffffffffffffffff81111561131857611317611036565b5b61132486828701611279565b9150509250925092565b5f81519050919050565b5f82825260208201905092915050565b5f819050602082019050919050565b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f61138082611357565b9050919050565b61139081611376565b82525050565b5f82825260208201905092915050565b5f6113b08261108f565b6113ba8185611396565b93506113ca8185602086016110a9565b6113d3816110b7565b840191505092915050565b6113e781610ff8565b82525050565b5f60e083015f8301516114025f860182611387565b506020830151848203602086015261141a82826113a6565b915050604083015161142f60408601826113de565b50606083015161144260608601826113de565b506080830151848203608086015261145a82826113a6565b91505060a083015184820360a086015261147482826113a6565b91505060c083015184820360c086015261148e82826113a6565b9150508091505092915050565b5f6114a683836113ed565b905092915050565b5f602082019050919050565b5f6114c48261132e565b6114ce8185611338565b9350836020820285016114e085611348565b805f5b8581101561151b57848403895281516114fc858261149b565b9450611507836114ae565b925060208a019950506001810190506114e3565b50829750879550505050505092915050565b5f6020820190508181035f83015261154581846114ba565b905092915050565b61155681611376565b82525050565b5f60e08201905061156f5f83018a61154d565b818103602083015261158181896110c7565b90506115906040830188611001565b61159d6060830187611001565b81810360808301526115af81866110c7565b905081810360a08301526115c381856110c7565b905081810360c08301526115d781846110c7565b905098975050505050505050565b5f819050919050565b5f6116086116036115fe84611357565b6115e5565b611357565b9050919050565b5f611619826115ee565b9050919050565b5f61162a8261160f565b9050919050565b61163a81611620565b82525050565b5f6020820190506116535f830184611631565b92915050565b61166281611376565b811461166c575f80fd5b50565b5f8135905061167d81611659565b92915050565b5f806040838503121561169957611698611032565b5b5f6116a685828601611050565b92505060206116b78582860161166f565b9150509250929050565b5f8115159050919050565b6116d5816116c1565b82525050565b5f6020820190506116ee5f8301846116cc565b92915050565b5f805f805f60a0868803121561170d5761170c611032565b5b5f86013567ffffffffffffffff81111561172a57611729611036565b5b61173688828901611279565b955050602061174788828901611050565b945050604086013567ffffffffffffffff81111561176857611767611036565b5b61177488828901611279565b935050606086013567ffffffffffffffff81111561179557611794611036565b5b6117a188828901611279565b925050608086013567ffffffffffffffff8111156117c2576117c1611036565b5b6117ce88828901611279565b9150509295509295909350565b7f446f63756d656e7420646f6573206e6f742065786973740000000000000000005f82015250565b5f61180f601783611099565b915061181a826117db565b602082019050919050565b5f6020820190508181035f83015261183c81611803565b9050919050565b7f416363657373206e6f74206772616e74656400000000000000000000000000005f82015250565b5f611877601283611099565b915061188282611843565b602082019050919050565b5f6020820190508181035f8301526118a48161186b565b9050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f600282049050600182168061191c57607f821691505b60208210810361192f5761192e6118d8565b5b50919050565b7f496e636f727265637420616d6f756e742073656e7400000000000000000000005f82015250565b5f611969601583611099565b915061197482611935565b602082019050919050565b5f6020820190508181035f8301526119968161195d565b9050919050565b7f41636365737320616c7265616479206772616e746564000000000000000000005f82015250565b5f6119d1601683611099565b91506119dc8261199d565b602082019050919050565b5f6020820190508181035f8301526119fe816119c5565b9050919050565b5f611a0f82611357565b9050919050565b611a1f81611a05565b82525050565b5f608082019050611a385f830187611a16565b611a456020830186611001565b8181036040830152611a5781856110c7565b90508181036060830152611a6b81846110c7565b905095945050505050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f611aad82610ff8565b9150611ab883610ff8565b9250828201905080821115611ad057611acf611a76565b5b92915050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f60088302611b327fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82611af7565b611b3c8683611af7565b95508019841693508086168417925050509392505050565b5f611b6e611b69611b6484610ff8565b6115e5565b610ff8565b9050919050565b5f819050919050565b611b8783611b54565b611b9b611b9382611b75565b848454611b03565b825550505050565b5f90565b611baf611ba3565b611bba818484611b7e565b505050565b5b81811015611bdd57611bd25f82611ba7565b600181019050611bc0565b5050565b601f821115611c2257611bf381611ad6565b611bfc84611ae8565b81016020851015611c0b578190505b611c1f611c1785611ae8565b830182611bbf565b50505b505050565b5f82821c905092915050565b5f611c425f1984600802611c27565b1980831691505092915050565b5f611c5a8383611c33565b9150826002028217905092915050565b611c738261108f565b67ffffffffffffffff811115611c8c57611c8b611182565b5b611c968254611905565b611ca1828285611be1565b5f60209050601f831160018114611cd2575f8415611cc0578287015190505b611cca8582611c4f565b865550611d31565b601f198416611ce086611ad6565b5f5b82811015611d0757848901518255600182019150602085019450602081019050611ce2565b86831015611d245784890151611d20601f891682611c33565b8355505b6001600288020188555050505b505050505050565b5f611d4382610ff8565b9150611d4e83610ff8565b9250828203905081811115611d6657611d65611a76565b5b9291505056fea2646970667358221220a2ad970b625f34782cf2d1cff7b988e72a66c54fc32614fd88bb1ded8ded6cca64736f6c634300081a0033"
}
